# React 理念

`软件的设计是为了服务理念`

## 目标

> 我们认为，React 是用 JavaScript 构建**快速响应**的大型 Web 应用程序的首选方式。

### 制约快速响应的主要因素

- 大计算量操作 or 性能不足，是页面掉帧，导致卡顿 (CPU, GPU的瓶颈)

- 网络请求，等待数据返回进行之后操作 (I/O, Network的瓶颈)

CPU

主流浏览器的刷新频率为60Hz，即每（1000ms / 60Hz）16.6ms 刷新一次

`GUI 渲染线程` 与 `JS 线程`是互斥的，所以 JS 脚本执行和浏览器布局、绘制不能同时执行

在每 16.6ms 内，需要完成如下工作

> JS 脚本执行 ----- 样式布局 ----- 样式绘制

当 JS 执行时间过长时，超出 16.6ms，这次刷新就无法执行**样式布局**和**样式绘制**

React的解决方案： 每一帧时间内，预留一些时间给 JS 线程，React 利用预留的时间更新组件（源码中预留的初始时间是 5ms），当预留时间不够用时，中断更新将线程控制权交还给浏览器，将长任务切分成小片分段执行，称为时间切片
